# Narcissistic Personality Disorder: Social Resources - Testing details

[Main README.md file](README.md) <br>
[View the website on Heroku](https://narcissism-website-8191a44972de.herokuapp.com/)

## Validator Testing

### HTML

### CSS

### JavaScript

### Python 
[CI Python Linter](https://pep8ci.herokuapp.com/#) was used to validate the Python code. All the errors highlighted were fixed. 

## Lighthouse Testing
I performed Lighthouse tests using Chrome Dev tools in an incognito window.

Due to the use of Instagram reels and the development of a full-stack website, I expected several critical aspects to be addressed. Regarding the content used, I was mainly concerned about the site's performance and 'heaviness'.

- **Homepage**:

    Initial results: 
    ![Homepage Lighthouse testing - initial results](https://i.ibb.co/6P9qR6r/my-screenshots-2024-03-31-at-18-18-50.png)

    Current results:
    ![Homepage Lighthouse - current testing results](https://i.ibb.co/Wcm3Qfg/current-homepage.png)

    Changes made:
- **Lazy Loading**: Implemented lazy loading feature for images in index.html, optimizing page loading times.
- **WebP Image Format**: Converted images to the WebP format to improve image compression and load times.
- **Meta Tags**: Added essential meta tags to enhance search engine visibility and improve sharing on social media platforms.
- **Image Quality Enhancement**: Improved the quality of images.
- **Site Manifest Update**: Updated the site.webmanifest file located in the favicon folder, providing comprehensive information about the website's name and short name.
- **HTTPS Issue** (see image below): Investigated and attempted to fix an issue related to HTTPS to ensure secure communication between the website and users' browsers. 
    ![Lighthouse testing - Issue with HTTPS](https://i.ibb.co/ZMPKY64/my-screenshots-2024-03-31-at-16-43-37.png)
        
    Attempts made:

            ```
            <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
            ```

    and:

            ```
            cloudinary.config(
            secure=True
            )
            ```
    
    Unfortunately, none of the options worked.

- **Topic pages**:    
    Current results: 
    ![Topic page Lighthouse testing - current results](https://i.ibb.co/xq31STL/Topic-page-lighthouse-testing.png)

    Changes made: 

   The number of reels displayed per page was reduced. In an attempt to increase the performance score, I've reduced them from four to three and then to two. This is not ideal, as I want the user to decide what content to prioritize. However, I have decided to adopt this as a temporary solution until I find a better one.
    A possible solution I'm considering is to create drop-down windows for each social media post, displaying the title, the description and hiding the video. This implementation will require some planning and time, so it won't be done at the current stage.

- **About page**:

    Current results:

    ![About page Lighthouse testing - current results](https://i.ibb.co/RY7y6Jp/my-screenshots-2024-03-31-at-18-17-35.png)

- **Register page**:

    Current results:

    ![Register page Lighthouse Testing - current results](https://i.ibb.co/7NWgCxM/Register-page.png) 

- **Login page**:

    Current results:

    ![Login page Lighthouse Testing - current results](https://i.ibb.co/L5rvN2Y/Sign-In-page.png)

- **Logout page**:

    Current results:

    ![Logout page Lighthouse Testing - current results](https://i.ibb.co/2KGVJPk/Logout-page.png)


## Manual testing
| **TO BE TESTED**                    | TEST ACTION                                                                                                                          | EXPECTED OUTCOME                                                                                                                                                            | Expected outcome in details                                                                                                                                                                                                          | TEST OUTCOME                                                                                       | FURTHER ACTIONS                             |
|-------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------|---------------------------------------------|
| **Homepage**                        | Access the website. Use the scroll bar to scroll down and up if necessary.                                                           | All the elements of the homepage should be visible and responsive.                                                                                                          | The website title should be displayed in the top left corner of the page, and remain visible on tablets and smartphones.                                                                                                             | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | In larger screens, the navigation bar should display Home, About, Register, and Login for non-logged users.                                                                                                                          | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | On tablets and mobile phones, the nav bar should display a hamburger icon that, when clicked, should display a list of Home, About, Register, and Login for non-logged users.                                                        | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | In larger screens, the nav bar should display Home, About, and Logout for logged-in users.                                                                                                                                           | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | On tablets and mobile phones, a burger icon should appear in the nav bar for logged-in users, allowing them to access Home, About, and Logout.                                                                                       | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | On larger screens, the 'muted text' will appear at the top right corner and within the hamburger icon on smaller ones. For accessibility reasons, it should be displayed in a different color (indicating that it is not clickable). | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | The topic squares should be visible to everyone.                                                                                                                                                                                     | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | The footer should be visible to everyone.                                                                                                                                                                                            | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | In the navigation bar, clicking an element should redirect the user to the appropriate page.                                                                                | Clicking on "About" should redirect to the about page.                                                                                                                                                                               | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | The "Register" navbar link should redirect to the register page.                                                                                                                                                                     | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | The "Login" navbar link should redirect to the login page.                                                                                                                                                                           | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | If the website title is clicked on another page than the homepage, it should redirect to the homepage.                                                                                                                               | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | Clicking a topic title should redirect to the topic page.                                                                                                                   |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | Hovering over a topic title should change its color.                                                                                                                        |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | The right top corner of the page should display a message letting the user know if they are logged in or not.                                                               | If the user is logged in, their username should appear.                                                                                                                                                                              | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | If the user is not logged in, a message prompts the user to log in.                                                                                                                                                                  | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | The notification message should redirect the user to the login page if the user is not logged in.                                                                                                                                    | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| **Register page**                   | Access the website. If you are not logged in, you should be able to see 'Register' at the top of the screen, and click on it.        | The Register page should show a form to register to the website.                                                                                                            |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | Users should be able to register by filling out all the required fields on the registration form.                                                                           | When all fields are filled out correctly and submitted, a message should appear: "Successfully signed in as [username]".                                                                                                             | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | The email field should be optional, so submissions can still be made without it.                                                                                                                                                     | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | Form submission should not be possible if a password that doesn't meet the criteria is entered.                                                                                                                                      | PASS, but improvements needed. The reason why users are not logged in is not communicated to them. | The user should be notified with a message. |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | The message "Filled out this field" should appear if a mandatory field is not filled out.                                                                                                                                            | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | A submit button should be available for submitting the registration.                                                                                                        |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| **Login page**                      | Access the website. If you are a registered user, navigate to the 'Login' at the top of the screen and click on it.                  | The Login page should show a form to register to the website.                                                                                                               |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | Users should be able to log in by filling out all the required fields on the form.                                                                                          | When all fields are filled out correctly and submitted, a message should appear: "Successfully signed in as [username]".                                                                                                             | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | The email field should be optional, so submissions can still be made without it.                                                                                                                                                     | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | Form submission should not be possible if a password that doesn't meet the criteria is entered.                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | The message "Filled out this field" should appear if a mandatory field is not filled out.                                                                                                                                            | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | An option to sign up should be available in the Login page if the user does not have an account.                                                                            |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| **Logout page**                     | Access the website. If you are logged in, navigate to the 'Logout' at the top of the screen and click on it.                         | A page should appear asking if the user is sure they want to sign out and a button to confirm.                                                                              |                                                                                                                                                                                                                                      | PASS, but improvements were needed to let the user cancel and return to the home page.             | Added button to return to Homepage.         |
| ****                                |                                                                                                                                      | By clicking signout, the user will be logged out.                                                                                                                           |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | [Improvement added] A button to return to the homepage is dispayed to the user.                                                                                             |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| **Topic page**                     | Access the website. In the homepage navigate to the topic titles and click on it.                                                    | If a topic title is clicked, the page for that particular topic should open.                                                                                                |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | The topic page should display the same navigation bar and login message as the homepage.                                                                                    |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | Topic titles and descriptions should be visible to users.                                                                                                                   |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | The content should appear in the center of the page. If it's a reel, the user should be able to click on it and it will start. The video will pause if they re-click on it. |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | When pagination is required, 'Next' and 'Prev' buttons should appear at the bottom of the content. It is currently set up to display three contents per page.               | The buttons should work and display the correct page.                                                                                                                                                                                | Pass. It works as expected.                                                                        |                                             |
| **Comments section**                | Access the website and in the homepage click on a topic title. Navigate to the bottom of the Topic page.                             | Users who are not logged in should not be able to see the comments. There should be a message informing users and a link to sign in.                                        |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | The body for typing comments appears at the bottom right of the page for logged-in users. The comment should then appear at the bottom left of the page.                    | The body of the message can be filled in by users and their message can be submitted by clicking "Submit".                                                                                                                           | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | Users should not be able to submit a message without a body. There should be a message stating 'Please fill in this field' if they attempt to do so.                                                                                 | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | When a comment is posted, a notification should appear stating "This comment is awaiting approval."                                                                         |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | The comment should appear in the comments section if it has been approved by an admin user.                                                                                 |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | Users should be able to edit or delete comments, and the buttons should function properly.                                                                                  |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| **About page**                      | Access the homepage and navigate to the About page following the link in the navbar.                                                 | The About page should display the scope of the website and a collaboration form.                                                                                            |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| **Collaboration/feedback form** | Access the homepage and navigate to the About page following the link in the navbar. The collaboration form is below the About text. | The collaboration form should present a short text and three fields: Name, Email and Message.                                                                               |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | Non-logged-in users should also be able to access the form.                                                                                                                 |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | All three fields must be filled out in order to submit the form.                                                                                                            | By clicking on Submit, the form can be submitted if the three fields have been filled in.                                                                                                                                            | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | If a field is left blank, the form cannot be submitted and the user will be notified.                                                                                                                                                | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      |                                                                                                                                                                             | If the email field doesn't include "@", a message will be displayed asking the user to include it.                                                                                                                                   | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | Once the form is submitted, a confirmation message should appear.                                                                                                           |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| **Django Admin Board**              | Access the admin panel by adding 'admin' at the end of the website URL.                                                              | There should be an authentication page that can only be accessed by admin users.                                                                                            |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | All admin user functionality should be displayed on the admin board.                                                                                                        |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | Admin users should be able to authorise comments.                                                                                                                           |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | The Homepage panel should allow Amin users to add Topics.                                                                                                                   |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |                                             |
| ****                                |                                                                                                                                      | The Contents panel should allow admin users to add content.                                                                                                                 |                                                                                                                                                                                                                                      | Pass. It works as expected.                                                                        |


## Automated testing
The functionalities tested were:
- Comments and collaboration forms;
- POST data and return of the correct response;
- Access to the topic page and the About page.

## Responsiveness 
The website's responsiveness has been tested using Google Chrome Developer Tools. To ensure compatibility across different devices, various screen resolutions were simulated. A custom media query was implemented to address an issue with the iPad Pro display.

The website now displays responsively across a wide range of devices and screen sizes.

## Bugs resolved
- **Instagram content embed issue**

There was a problem embedding Instagram content within the application.  The Instagram posts were not displayed when using the short embed code (see below), but it only worked with the original embed code.
```
<blockquote class="instagram-media" data-instgrm-permalink="https://www.instagram.com/reel/{{ content.source_identifier }}/?utm_source=ig_embed&amp;utm_campaign=loading" style="background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);">
</blockquote>
```
The short embed code was preferred since tags and original captions would be removed.

To resolve this issue, an asynchronous script tag was added to the if statement in the resource_detail.html:
``` 
<script async src="//www.instagram.com/embed.js"></script>
```
The asynchronous script tag loads the Instagram embed JavaScript file from the Instagram domain.




## Remaining bugs

There are no major issues that impact the website's functionalities. However, given the components involved, there are several aspects I need to address to improve the overall performance.